<div class="container-lg">
  <app-breadcrumb></app-breadcrumb>
  <ng-container *ngIf="shopingCart$ | async; let shopingCart">
    <table *ngIf="shopingCart.items.length > 0; else noCart">
      <tr>
        <th>Preview</th>
        <th>Product</th>
        <th>Price</th>
        <th>Quantity</th>
        <th>Subtotal</th>
        <th>Operations</th>
      </tr>
      <tr *ngFor="let item of shopingCart.items">
        <td><img class="product__preview" src="{{item.product.img}}" alt="product"></td>
        <td>{{item.product.title}}</td>
        <td>{{item.product.price | currency}}</td>
        <td>{{item.quantity}}</td>
        <td>{{item.quantity * item.product.price | currency}}</td>
        <td>
          <img (click)="onProductRemove(item.product)" class="remove-btn"
            src="../../../../assets/images/icons/remove-icon.svg" alt="remove-icon">
        </td>
      </tr>
      <tr>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td>{{totalPrice | currency}}</td>
        <td><button class="btn-primary">Checkout</button></td>
      </tr>
    </table>
    <ng-template #noCart>
      <div class="">
        <div class="">No products!</div>
        <a routerLink="shop">Go to the Shop</a>
      </div>
    </ng-template>
  </ng-container>
</div>